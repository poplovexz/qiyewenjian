# 客户管理模块访问指南

## 🎯 问题解决方案

如果你访问客户列表页面时显示为空，请按照以下步骤操作：

## 📋 访问步骤

### 1. 确保服务正常运行

首先确认前后端服务都在运行：

- **后端服务**: http://localhost:8000 (应该显示API文档)
- **前端服务**: http://localhost:5174 (应该显示登录页面)

### 2. 登录系统

1. 打开浏览器访问: http://localhost:5174/login
2. 使用以下登录信息：
   - **用户名**: `admin`
   - **密码**: `admin123`
3. 点击登录按钮

### 3. 访问客户管理页面

登录成功后，你可以通过以下方式访问客户管理功能：

#### 方式一：通过菜单导航
1. 在左侧菜单中找到"客户管理"
2. 点击展开子菜单
3. 选择"客户列表"或"服务记录"

#### 方式二：直接访问URL
- **客户列表**: http://localhost:5174/customers
- **服务记录**: http://localhost:5174/customer-services

## 🔍 故障排除

### 如果客户列表仍然为空

1. **检查浏览器控制台**
   - 按F12打开开发者工具
   - 查看Console标签页是否有错误信息
   - 查看Network标签页检查API请求是否成功

2. **检查认证状态**
   - 确保已经正确登录
   - 检查浏览器Local Storage中是否有access_token

3. **检查数据**
   - 确认数据库中有客户数据
   - 可以运行测试脚本验证API是否返回数据

### 常见问题

#### 问题1：访问客户页面时跳转到登录页
**原因**: 用户未登录或登录状态已过期
**解决**: 重新登录系统

#### 问题2：登录后页面显示空白
**原因**: 可能是JavaScript错误或API调用失败
**解决**: 
1. 检查浏览器控制台错误
2. 刷新页面
3. 清除浏览器缓存

#### 问题3：API请求失败
**原因**: 后端服务未运行或认证失败
**解决**:
1. 确认后端服务在端口8000运行
2. 检查网络连接
3. 重新登录获取新的认证token

## 🧪 测试数据

系统已经创建了以下测试客户数据：

1. **北京科技创新有限公司** (活跃)
2. **上海智能制造股份有限公司** (续约中)
3. **深圳互联网科技有限公司** (活跃)
4. **广州贸易发展有限公司** (已终止)
5. **杭州电子商务有限公司** (活跃)
6. **成都软件开发有限公司** (续约中)

如果这些数据没有显示，说明可能存在以下问题：
- 前端API调用失败
- 数据库连接问题
- 认证权限问题

## 🔧 技术细节

### API端点
- 客户列表: `GET /api/v1/customers/`
- 客户详情: `GET /api/v1/customers/{id}`
- 服务记录: `GET /api/v1/service-records/`

### 认证要求
- 所有客户管理API都需要Bearer Token认证
- Token通过登录接口获取
- Token会自动添加到HTTP请求头中

### 权限要求
用户需要以下权限才能访问客户管理功能：
- `customer:read` - 查看客户
- `customer:create` - 创建客户
- `customer:update` - 编辑客户
- `customer:delete` - 删除客户
- `service_record:read` - 查看服务记录

## 📞 获取帮助

如果按照上述步骤仍然无法解决问题，请：

1. 检查浏览器控制台的具体错误信息
2. 确认前后端服务的运行状态
3. 验证数据库连接和数据完整性

## 🎉 成功标志

当一切正常工作时，你应该能看到：

1. **客户列表页面**显示6个测试客户
2. **统计卡片**显示正确的客户数量
3. **表格**中显示客户的详细信息
4. **操作按钮**（查看、编辑、删除）正常工作
5. **搜索和筛选**功能正常
6. **分页**功能正常

---

**最后更新**: 2024年9月17日
**版本**: v0.1.1
