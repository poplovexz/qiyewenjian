# Systemd 服务配置文件
# 位置: /etc/systemd/system/proxy-system.service

[Unit]
Description=Proxy System Backend Service
After=network.target postgresql.service redis.service

[Service]
Type=simple
User=saas
Group=saas
WorkingDirectory=/home/saas/proxy-system/packages/backend
Environment="PATH=/home/saas/proxy-system/packages/backend/venv/bin"
ExecStart=/home/saas/proxy-system/packages/backend/venv/bin/uvicorn src.main:app --host 0.0.0.0 --port 8000 --workers 4
Restart=always
RestartSec=10

# 日志配置
StandardOutput=append:/home/saas/proxy-system/logs/backend.log
StandardError=append:/home/saas/proxy-system/logs/backend-error.log

# 安全配置
NoNewPrivileges=true
PrivateTmp=true

[Install]
WantedBy=multi-user.target

