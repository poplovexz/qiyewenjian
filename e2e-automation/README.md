# E2E è‡ªåŠ¨åŒ–æµ‹è¯•

è¿™ä¸ªæ–‡ä»¶å¤¹åŒ…å«æ‰€æœ‰ Playwright ç«¯åˆ°ç«¯è‡ªåŠ¨åŒ–æµ‹è¯•ç›¸å…³çš„æ–‡ä»¶ã€‚

## ğŸ“ ç›®å½•ç»“æ„

```
e2e-automation/
â”œâ”€â”€ README.md                          # æœ¬æ–‡ä»¶
â”œâ”€â”€ playwright.config.ts               # Playwright é…ç½®æ–‡ä»¶
â”œâ”€â”€ run-task-assignment-test.sh        # Linux/Mac è¿è¡Œè„šæœ¬
â”œâ”€â”€ run-task-assignment-test.bat       # Windows è¿è¡Œè„šæœ¬
â”œâ”€â”€ tests/                             # æµ‹è¯•æ–‡ä»¶ç›®å½•
â”‚   â”œâ”€â”€ test_complete_workflow.spec.ts # å®Œæ•´ä¸šåŠ¡æµç¨‹æµ‹è¯•
â”‚   â””â”€â”€ test_task_item_assignment.spec.ts # ä»»åŠ¡é¡¹åˆ†é…æµ‹è¯•
â”œâ”€â”€ screenshots/                       # æµ‹è¯•æˆªå›¾ç›®å½•
â”œâ”€â”€ playwright-report/                 # HTML æµ‹è¯•æŠ¥å‘Š
â”œâ”€â”€ test-results/                      # æµ‹è¯•ç»“æœå’Œè¿½è¸ªæ–‡ä»¶
â””â”€â”€ docs/                              # æ–‡æ¡£ç›®å½•
    â”œâ”€â”€ COMPLETE_WORKFLOW_TEST.md      # å®Œæ•´æµç¨‹æµ‹è¯•æ–‡æ¡£
    â”œâ”€â”€ WSL_PLAYWRIGHT_GUIDE.md        # WSL ç¯å¢ƒä½¿ç”¨æŒ‡å—
    â””â”€â”€ prepare-test-data.md           # æµ‹è¯•æ•°æ®å‡†å¤‡æŒ‡å—
```

## ğŸš€ å¿«é€Ÿå¼€å§‹

### **è¿è¡Œå®Œæ•´ä¸šåŠ¡æµç¨‹æµ‹è¯•**ï¼ˆæ¨èï¼‰

```bash
cd e2e-automation
./run-task-assignment-test.sh --complete
```

è¿™ä¸ªæµ‹è¯•ä¼šè‡ªåŠ¨ï¼š
1. ç™»å½•ç³»ç»Ÿ
2. åˆ›å»ºçº¿ç´¢
3. åˆ›å»ºæŠ¥ä»·ï¼ˆåŒ…å«"å…¬å¸æ”¹åˆ¶"äº§å“ï¼‰
4. ç¡®è®¤æŠ¥ä»·å¹¶ç”ŸæˆåˆåŒ
5. ä»åˆåŒåˆ›å»ºå·¥å•
6. éªŒè¯ä»»åŠ¡é¡¹ä»äº§å“æ­¥éª¤åŠ è½½ï¼ˆ6ä¸ªä»»åŠ¡é¡¹ï¼‰
7. æµ‹è¯•ä»»åŠ¡é¡¹åˆ†é…åŠŸèƒ½
8. éªŒè¯åˆ†é…ç»“æœ

### **è¿è¡Œä»»åŠ¡é¡¹åˆ†é…æµ‹è¯•**ï¼ˆéœ€è¦å·²æœ‰å·¥å•ï¼‰

```bash
cd e2e-automation
./run-task-assignment-test.sh
```

## ğŸ“– æµ‹è¯•æ¨¡å¼

### **æ— å¤´æ¨¡å¼**ï¼ˆé»˜è®¤ï¼‰
```bash
./run-task-assignment-test.sh --complete
```

### **UI æ¨¡å¼**ï¼ˆå¯è§†åŒ–ç•Œé¢ï¼‰
```bash
./run-task-assignment-test.sh --complete --ui
```

### **æ˜¾ç¤ºæµè§ˆå™¨æ¨¡å¼**
```bash
./run-task-assignment-test.sh --complete --headed
```

### **è°ƒè¯•æ¨¡å¼**
```bash
./run-task-assignment-test.sh --complete --debug
```

## ğŸ“¸ æŸ¥çœ‹æµ‹è¯•ç»“æœ

### **æŸ¥çœ‹æˆªå›¾**
```bash
ls -la screenshots/
```

### **æŸ¥çœ‹ HTML æŠ¥å‘Š**
```bash
npx playwright show-report
```

### **æŸ¥çœ‹è¿½è¸ªæ–‡ä»¶**
```bash
npx playwright show-trace test-results/[æµ‹è¯•åç§°]/trace.zip
```

## ğŸ”§ é…ç½®è¯´æ˜

### **playwright.config.ts**
- `testDir`: æµ‹è¯•æ–‡ä»¶ç›®å½•
- `baseURL`: å‰ç«¯åº”ç”¨åœ°å€ï¼ˆé»˜è®¤ï¼šhttp://localhost:5174ï¼‰
- `workers`: å¹¶å‘æ•°ï¼ˆé»˜è®¤ï¼š1ï¼‰
- `retries`: é‡è¯•æ¬¡æ•°ï¼ˆé»˜è®¤ï¼š0ï¼‰

### **ç¯å¢ƒè¦æ±‚**
- Node.js 18+
- pnpm åŒ…ç®¡ç†å™¨
- åç«¯æœåŠ¡è¿è¡Œåœ¨ 8000 ç«¯å£
- å‰ç«¯æœåŠ¡è¿è¡Œåœ¨ 5174 ç«¯å£

## ğŸ“š æ–‡æ¡£

- [å®Œæ•´æµç¨‹æµ‹è¯•æ–‡æ¡£](docs/COMPLETE_WORKFLOW_TEST.md)
- [WSL ç¯å¢ƒä½¿ç”¨æŒ‡å—](docs/WSL_PLAYWRIGHT_GUIDE.md)
- [æµ‹è¯•æ•°æ®å‡†å¤‡æŒ‡å—](docs/prepare-test-data.md)

## ğŸ› æ•…éšœæ’æŸ¥

### **Playwright æœªå®‰è£…**
```bash
pnpm add -D @playwright/test -w
npx playwright install
```

### **æœåŠ¡æœªè¿è¡Œ**
```bash
# è¿”å›é¡¹ç›®æ ¹ç›®å½•
cd ..
# å¯åŠ¨æ‰€æœ‰æœåŠ¡
./start_all.sh
```

### **æµ‹è¯•å¤±è´¥**
1. æ£€æŸ¥æˆªå›¾ç›®å½•äº†è§£å¤±è´¥åŸå› 
2. æŸ¥çœ‹ HTML æŠ¥å‘Š
3. ä½¿ç”¨è°ƒè¯•æ¨¡å¼è¿è¡Œï¼š`./run-task-assignment-test.sh --complete --debug`

## ğŸ“ æµ‹è¯•è´¦å·

- ç”¨æˆ·åï¼š`admin`
- å¯†ç ï¼š`123456`

## ğŸ¯ æµ‹è¯•è¦†ç›–

- âœ… ç”¨æˆ·ç™»å½•
- âœ… çº¿ç´¢åˆ›å»º
- âœ… æŠ¥ä»·åˆ›å»ºï¼ˆåŒ…å«äº§å“æ­¥éª¤ï¼‰
- âœ… åˆåŒç”Ÿæˆ
- âœ… å·¥å•åˆ›å»º
- âœ… ä»»åŠ¡é¡¹åŠ è½½ï¼ˆä»äº§å“æ­¥éª¤ï¼‰
- âœ… ä»»åŠ¡é¡¹åˆ†é…
- âœ… åˆ†é…ç»“æœéªŒè¯

## ğŸ”„ æŒç»­é›†æˆ

æµ‹è¯•è„šæœ¬æ”¯æŒ CI ç¯å¢ƒï¼Œä¼šè‡ªåŠ¨ï¼š
- ä½¿ç”¨æ— å¤´æ¨¡å¼
- å¯ç”¨é‡è¯•æœºåˆ¶
- ç”Ÿæˆ HTML æŠ¥å‘Š
- ä¿å­˜å¤±è´¥æˆªå›¾å’Œè¿½è¸ªæ–‡ä»¶

